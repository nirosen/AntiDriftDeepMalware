#!/bin/bash
source ~/anaconda3/etc/profile.d/conda.sh
conda activate pytorch18cuda10
cd ~/Desktop/AntiDriftDeepMalware/


### CNN

echo "starting RSRE-TW10"
/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py -tw 10 --shuffled_epochs --dataset_path=../miller60K_80dev_20future/rand_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=CNN -e 100 --save_checkpoints=all



echo "starting TSRE-TW10"
/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py -tw 10 --shuffled_epochs --dataset_path=../miller60K_80dev_20future/time_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=CNN -e 100 --save_checkpoints=all

### LSTM+LastPool

echo "starting RSRE-TW10"
/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py -tw 10 --shuffled_epochs --dataset_path=../miller60K_80dev_20future/rand_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=LSTM+LastPool -e 100 --save_checkpoints=all



echo "starting TSRE-TW10"
/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py -tw 10 --shuffled_epochs --dataset_path=../miller60K_80dev_20future/time_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=LSTM+LastPool -e 100 --save_checkpoints=all


### GRU+LastPool


echo "starting RSRE-TW10"
/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py -tw 10 --shuffled_epochs --dataset_path=../miller60K_80dev_20future/rand_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=GRU+LastPool -e 100 --save_checkpoints=all



echo "starting TSRE-TW10"
/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py -tw 10 --shuffled_epochs --dataset_path=../miller60K_80dev_20future/time_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=GRU+LastPool -e 100 --save_checkpoints=all




#echo "starting second RSRE"
#/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py --shuffled_epochs --dataset_path=../miller60K_80dev_20future/rand_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=GRU+AvgPool -e 100 --save_checkpoints=all
#echo "done second RSRE"

#echo "starting first TSTE"
#/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py --dataset_path=../miller60K_80dev_20future/time_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=GRU+AvgPool -e 100 --save_checkpoints=all
#echo "done first TSTE"

#echo "done third TSRE"
#/home/john/anaconda3/envs/pytorch18cuda10/bin/python train.py --shuffled_epochs --dataset_path=../miller60K_80dev_20future/time_split/ --samples_count=0 --batch_size=30 --train_procedure=all --architecture=GRU+AvgPool -e 100 --save_checkpoints=all
#echo "done third TSRE"





echo "done all"

	
# find GRU+AvgPool/ -name '*.gz' -exec cp --parents \{\} /run/media/john/NR/ \;